(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{134:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(86);n(181);function o(e){var t=e.config,n=e.version;return r.a.initializeApp(t),r.a.database().ref(n)}},151:function(e,t,n){e.exports=n(186)},186:function(e,t,n){"use strict";n.r(t);n(152);var r,o=n(1),c=n.n(o),u=n(24),i=n(36),a=n(54),f=n.n(a),l=n(56),s=n(66),p=(n(60),n(57),n(137),n(138),n(58),n(59),n(139),n(87),n(140),n(146),n(191)),d=n(4),b=n(136),h=n(65),m=n(192),v=n(190);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){return f()({loader:e,loading:function(){return null}})},k=function(e){return S((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,225)).then((function(t){return t.default(e)}))}))},I=function(){return c.a.createElement(d.a,{to:"/top"})};I.preload=function(e){return e.context.url="/top"};var D=[{path:"/",exact:!0,component:I},{path:"/top/:page(\\d+)?",component:k("top")},{path:"/new/:page(\\d+)?",component:k("new")},{path:"/show/:page(\\d+)?",component:k("show")},{path:"/ask/:page(\\d+)?",component:k("ask")},{path:"/job/:page(\\d+)?",component:k("job")},{path:"/item/:id(\\d+)",component:S((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,226))}))},{path:"/user/:id",component:S((function(){return n.e(4).then(n.bind(null,224))}))},{path:"*",component:function(e){j(n,e);var t=E(n);function n(e,r){var o;return g(this,n),(o=t.call(this,e,r)).props.staticContext&&(o.props.staticContext.code=404),o}return w(n,[{key:"render",value:function(){return"Custom 404 Page, will you implement it?"}}]),n}(c.a.PureComponent)}],R={entering:{opacity:0},entered:{opacity:1}},x=Object(d.g)(r=function(e){j(n,e);var t=E(n);function n(){return g(this,n),t.apply(this,arguments)}return w(n,[{key:"render",value:function(){var e=this.props.location;return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header-content"},c.a.createElement(h.b,{to:"/",exact:!0},c.a.createElement("img",{className:"logo",src:"/public/logo.svg",alt:"React Logo"})),c.a.createElement("nav",{className:"inner"},["top","new","show","ask","job"].map((function(e){return c.a.createElement(h.b,{key:e,to:"/".concat(e)},Object(p.a)(e))}))),c.a.createElement("a",{className:"github",href:"https://github.com/JounQin/react-hackernews",target:"_blank",rel:"noopener noreferrer"},"Built with React.js",c.a.createElement("img",{src:"/public/external.svg"})))),c.a.createElement(m.a,{component:o.Fragment},c.a.createElement(v.a,{timeout:200,key:e.pathname.split("/")[1],mountOnEnter:!0,unmountOnExit:!0},(function(t){return c.a.createElement("div",{className:"view",style:R[t]},Object(b.a)(D,null,{location:e}))}))))}}]),n}(c.a.PureComponent))||r,N=Object(s.b)(window.__INITIAL_STATE__);delete window.__INITIAL_STATE__;var A;A=c.a.createElement(i.a,{store:N},c.a.createElement(l.a,{history:s.g},c.a.createElement(x,null))),f.a.preloadReady().then((function(){return Object(u.hydrate)(A,document.querySelector("#app"))})),("https:"===location.protocol||["127.0.0.1","localhost"].includes(location.hostname))&&navigator.serviceWorker&&navigator.serviceWorker.register("/service-worker.js")},55:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return f}));n(92),n(60),n(91),n(90),n(57),n(58),n(59),n(144),n(145),n(150);var r=n(134),o=(e.env.DEBUG_API,Object(r.a)({version:"/v0",config:{databaseURL:"https://hacker-news.firebaseio.com"}}));function c(e){var t=o.cachedItems;return t&&t.has(e)?Promise.resolve(t.get(e)):new Promise((function(n,r){o.child(e).once("value",(function(r){var o=r.val();o&&(o.__lastUpdated=Date.now()),t&&t.set(e,o),n(o)}),r)}))}function u(e){return o.cachedIds&&o.cachedIds[e]?Promise.resolve(o.cachedIds[e]):c("".concat(e,"stories"))}function i(e){return Promise.all(e.map((function(e){return function(e){return c("item/".concat(e))}(e)})))}function a(e){return c("user/".concat(e))}function f(e,t){var n=!0,r=o.child("".concat(e,"stories")),c=function(e){n?n=!1:t(e.val())};return r.on("value",c),function(){r.off("value",c)}}o.onServer&&function e(){i((o.cachedIds.top||[]).slice(0,30)),setTimeout(e,9e5)}()}).call(this,n(126))},66:function(e,t,n){"use strict";n.d(t,"g",(function(){return A})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return S})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return D})),n.d(t,"f",(function(){return R})),n.d(t,"a",(function(){return E}));var r={};n.r(r),n.d(r,"loading",(function(){return v})),n.d(r,"activeType",(function(){return y})),n.d(r,"itemsPerPage",(function(){return g})),n.d(r,"items",(function(){return O})),n.d(r,"users",(function(){return w})),n.d(r,"lists",(function(){return j}));n(94),n(50),n(111),n(113),n(114),n(115),n(116),n(117),n(118);var o=n(14),c=n(56),u=n(120),i=n(27),a=n(133),f=(n(162),"SET_LOADING"),l="SET_ACTIVE_TYPE",s="SET_LIST",p="SET_ITEMS",d="SET_USER";function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.loading;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return t.activeType;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return e},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return h(h({},e),t.items.reduce((function(e,t){return t&&(e[t.id]=t),e}),{}));default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return h(h({},e),{},m({},t.id,t.user||!1));default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{top:[],new:[],show:[],ask:[],job:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return h(h({},e),{},m({},t.listType,t.ids));default:return e}},P=(n(90),n(57),n(58),n(59),n(60),n(91),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.activeType,r=e.itemsPerPage,o=e.lists;if(!n)return[];var c=(t-1)*r,u=t*r;return o[n].slice(c,u)}),E=function(e,t){return P(e,t).map((function(t){return e.items[t]})).filter((function(e){return e}))},_=n(55),T=function(e){return{type:f,loading:e}},S=function(e,t){return{type:s,listType:e,ids:t}},k=function(e,t){return function(n){return n({type:l,activeType:e}),Object(_.a)(e).then((function(t){return n(S(e,t))})).then((function(){return n(D(t))}))}},I=function(e){return function(t,n){var r=Date.now(),o=n();return(e=e.filter((function(e){var t=o.items[e];return!t||r-t.__lastUpdated>18e4}))).length>0?Object(_.b)(e).then((function(e){return t(function(e){return{type:p,items:e}}(e))})):Promise.resolve()}},D=function(e){return function(t,n){return t(I(P(n(),e)))}},R=function(e){return function(t,n){return n().users[e]?Promise.resolve():Object(_.c)(e).then((function(n){return t(function(e,t){return{type:d,id:e,user:t}}(e,n))}))}};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=Object(o.a)(),C=i.d;t.b=function(e){return Object(i.e)(Object(i.c)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({router:Object(c.b)(A)},r)),e,C(Object(i.a)(Object(u.a)(A),a.a)))}}},[[151,2,3]]]);